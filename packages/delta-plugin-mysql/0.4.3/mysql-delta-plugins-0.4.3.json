{
  "properties": {
    "widgets.mysql-cdcSource": "{\n  \"outputs\": [],\n  \"metadata\": {\"spec-version\": \"1.5\"},\n  \"configuration-groups\": [\n    {\n      \"label\": \"Database Location\",\n      \"properties\": [\n        {\n          \"name\": \"host\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Host\"\n        },\n        {\n          \"name\": \"port\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Port\",\n          \"widget-attributes\": {\"default\": \"3306\"}\n        },\n        {\n          \"name\": \"jdbcPluginName\",\n          \"widget-type\": \"plugin-list\",\n          \"label\": \"JDBC Plugin Name\",\n          \"widget-attributes\": {\"plugin-type\": \"jdbc\"}\n        },\n        {\n          \"name\": \"database\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Database Name\"\n        }\n      ]\n    },\n    {\n      \"label\": \"Credentials\",\n      \"properties\": [\n        {\n          \"name\": \"user\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"User\"\n        },\n        {\n          \"name\": \"password\",\n          \"widget-type\": \"password\",\n          \"label\": \"Password\"\n        }\n      ]\n    },\n    {\n      \"label\": \"Advanced\",\n      \"properties\": [\n        {\n          \"name\": \"consumerID\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Consumer ID\"\n        },\n        {\n          \"name\": \"serverTimezone\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Server Timezone\",\n          \"widget-attributes\": {\"default\": \"UTC\"}\n        },\n        {\n          \"name\": \"replicateExistingData\",\n          \"widget-type\": \"toggle\",\n          \"label\": \"Replicate Existing Data\",\n          \"widget-attributes\": {\n            \"default\": \"true\",\n            \"off\": {\n              \"label\": \"No\",\n              \"value\": \"false\"\n            },\n            \"on\": {\n              \"label\": \"Yes\",\n              \"value\": \"true\"\n            }\n          }\n        }\n      ]\n    }\n  ],\n  \"display-name\": \"MySQL\",\n  \"icon\": {\n    \"arguments\": {\"data\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAxCAYAAACYq/ofAAADXElEQVR4nN1ZPWzTQBT+zolbJCT+\\r\\nBBUb0IGBBQmYoAMDYkNVE2fvQpvYOywgVbAgMTE4/aGVujHEiTowMSGBBBKqxMLEEIEQSAVUhIRI\\r\\nm9TH4Nhx6/Nf/S5p+Cb7fPe999179+y8MACAZnD4wbbGUVtuYojAAiL8sHfm0VjQ++jPvuEKacMy\\r\\nR7zRveIsk/XZr9ToRUTkbFi02EYetdqOVM9SQoHN34U+tUwG8FZgnI91oBkcmsExWbkh08GkcKIQ\\r\\nFRURJmd1qHlz19iA069nPK2YvetcDEiQ4l21OucBANrsw1QMlslgmT2eqCooET0Hni9+BGAD+XvC\\r\\nmUV9E5r+JISHwzIZOLYBOGIK5WlaV6MhrlQcNupmTvjMbt9GY2k5lPH69CGcPPzXueFtWNWR0LmE\\r\\nUISjLGQcABT1aSTjy9VW75wwtV+pFozI5RkV59RtkkPrFyG5CAR3fn2pDQAo6nZmdr/zmrGdmS8C\\r\\n4SnEGM0O9sSoKJSvkXAKIBZCnQYun5J7TcrrQ3hEANp3Asdnck4fwoVY3fJbKgXL8H5QN89410X9\\r\\nGwmnD1ERcQ47H+uQWXNTjLHTZJxdRKeWa5g0xTgn50ScEAe/KQ2iXk1iMzWSkB6RYRgAUNA3qaiS\\r\\n7Y60csyOUVFGC5nSJ6gMheLWzCUKmmghOfaKwogQblRG1XUKOikHLz3mMvsxWCGdP8cBANr3zB2Z\\r\\neCE7nLb8+rG2+ouKKl5IjgXLr2Zwks98ALC55XFmQPrUcg1SfeY3qiUKmmxnpFA24yclAf8BIFNU\\r\\nooXYrbPRq3M0DW6resq71gyOYuVRWopoIY2VTwCAovEhaLz7HihU3qc1KoT/64Epdx1BRrBdG4L4\\r\\n1OKcg+ECAKA0czTwTFEuJjUWC6fZx9B867SQGEa7hWUlbmmyA7s3d7n9GPX5O7ueyeqSkHdi3O67\\r\\n6ED2o3cVZluKoX7YcFLti1xDVC/JSMwp/YlOoTwl10AXTmS+urey2pgMAM2Oxe18twDI68feLI/h\\r\\nxcLGvteLBTRhmeOi6Qf339qCfh8KewAgUdk9uEKAVO+Qgy0E2C2Go4n6sKWWH8XZn2D5E969IDrD\\r\\nIcSFPzqdrStYW/YaF8MlxIX3465zFbXFNwP2hgAD+itcDv4rMVOVZ/8AMqkeIFUrLWoAAAAASUVO\\r\\nRK5C\"},\n    \"type\": \"inline\"\n  }\n}",
    "doc.mysql-cdcSource": "# MySQL CDC Source\n\n\nDescription\n-----------\nMySQL CDC Source will replicate all of the row-level changes in the databases on MySQL server.\n\nSetting up MySQL\n-----------\n#### Enable the binlog\nThis is done in the MySQL server configuration file and will look similar like this:\n```\nserver-id         = 1\nlog_bin           = mysql-bin\nbinlog_format     = row\nbinlog_row_image  = full\nexpire_logs_days  = 10\n```\n\n#### Enable GTIDs (optional)\nThe MySQL server can be configured to use GTID-based replication. Using GTIDs greatly simplifies replication and makes \nit possible to easily confirm whether masters and slaves are consistent. Note that if you\u2019re using an earlier version \nbefore MySQL 5.6.5, you will not be able to enable GTIDs.\n```\ngtid_mode                 = on\nenforce_gtid_consistency  = on\n```\n\n#### Set Up Session Timeouts (optional)\nWhen initial snapshots of very large databases are executed then it is possible that an established connection will \ntimeout while reading the content of the database tables. We can increase following configs to deal with that.\n```\ninteractive_timeout = <duration-in-seconds>\nwait_timeout        = <duration-in-seconds>\n```\n\n#### Create A MySQL User\nA MySQL user must be defined with all the following permissions on any database which wants to be replicated:\n**SELECT**, **RELOAD**, **SHOW DATABASES**, **REPLICATION SLAVE** and **REPLICATION CLIENT**.\n```\nmysql> CREATE USER 'user'@'%' IDENTIFIED BY 'password';\nmysql> GRANT SELECT, RELOAD, SHOW DATABASES, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'user'@'%' IDENTIFIED WITH mysql_native_password BY 'password';\nmysql> FLUSH PRIVILEGES;\n```\n\nIf using a hosted option such as Amazon RDS or Amazon Aurora that do not allow a global read lock, table-level locks are\nused to create the consistent snapshot. In this case, you need to also grant LOCK_TABLES permissions to the user that\nyou create.\n\nSetting up JDBC Driver\n-----------\nIf it is not already installed, instructions for installing the MySQL JDBC driver can be found on the Hub. The MySQL\nJDBC driver installed should be version 8 or above.\n\nPlugin Properties\n-----------\n**Host:** Hostname of the MySQL server to read from.\n\n**Port:** Port to use to connect to the MySQL server.\n\n**Consumer ID:** Optional unique numeric ID to identify this origin as an event consumer. This number cannot be the \nsame as another Delta Replicator that is reading from the server, and it cannot be the same as the server-id for any\n MySQL slave that is replicating from the server. By default, random number will be used. \n\n**Server Timezone:** Timezone of the MySQL server. This is used when converting dates into timestamps.\n\n**User:** Username to use to connect to the MySQL server. Actual account used by the source while connecting \nto the MySQL server will be of the form 'user_name'@'%' where user_name is this field.\n\n**Password:** Password to use to connect to the MySQL server.\n\n**Database:** Database to replicate data from.\n\n**JDBC Plugin Name:** Identifier for the MySQL JDBC driver, which is the name used while uploading the MySQL JDBC driver.\n\n**Replicate Existing Data:** Whether to replicate existing data from the source database. By default, pipeline will \nreplicate the existing data from source tables. If set to false, any existing data in the source tables will be \nignored and only changes happening after the pipeline started will be replicated.\n\nTroubleshooting\n-----------\nIf the replicator is able to start snapshotting the data, but fails when it switches over to read from the \nbinlog with errors in the log like:\n\n```\nCaused by: com.github.shyiko.mysql.binlog.network.AuthenticationException: Client does not support authentication protocol requested by server; consider upgrading MySQL client\n```\n\nThis is most likely caused by the replication user using an incompatible password type. This is especially\ncommon starting from MySQL 8 on up. To fix this, run the following command:\n\n```\nALTER USER '[user]'@'[host]' IDENTIFIED WITH mysql_native_password BY '[password]'\n```\n\nto change the user to use a MySQL native password.\n"
  },
  "parents": ["system:delta-app[0.0.0,1.0.0-SNAPSHOT)"]
}