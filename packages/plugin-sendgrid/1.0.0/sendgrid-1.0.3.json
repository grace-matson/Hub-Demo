{
  "properties": {
    "widgets.EmailBySendgrid-postaction": "{\n  \"outputs\": [],\n  \"metadata\": {\"spec-version\": \"1.5\"},\n  \"configuration-groups\": [{\n    \"label\": \"Email Properties\",\n    \"properties\": [\n      {\n        \"widget-type\": \"radio-group\",\n        \"name\": \"runCondition\",\n        \"label\": \"Run Condition\",\n        \"widget-attributes\": {\n          \"layout\": \"inline\",\n          \"default\": \"completion\",\n          \"options\": [\n            {\n              \"id\": \"completion\",\n              \"label\": \"Completion\"\n            },\n            {\n              \"id\": \"success\",\n              \"label\": \"Success\"\n            },\n            {\n              \"id\": \"failure\",\n              \"label\": \"Failure\"\n            }\n          ]\n        }\n      },\n      {\n        \"widget-type\": \"password\",\n        \"name\": \"apiKey\",\n        \"label\": \"API Key\"\n      },\n      {\n        \"widget-type\": \"textbox\",\n        \"name\": \"from\",\n        \"label\": \"From\"\n      },\n      {\n        \"widget-type\": \"textbox\",\n        \"name\": \"to\",\n        \"label\": \"To\"\n      },\n      {\n        \"widget-type\": \"textbox\",\n        \"name\": \"subject\",\n        \"label\": \"Subject\"\n      },\n      {\n        \"widget-type\": \"textarea\",\n        \"name\": \"content\",\n        \"label\": \"Content\"\n      },\n      {\n        \"widget-type\": \"toggle\",\n        \"name\": \"includeWorkflowToken\",\n        \"label\": \"Include Workflow Token\",\n        \"widget-attributes\": {\n          \"default\": \"false\",\n          \"off\": {\n            \"label\": \"No\",\n            \"value\": \"false\"\n          },\n          \"on\": {\n            \"label\": \"Yes\",\n            \"value\": \"true\"\n          }\n        }\n      }\n    ]\n  }]\n}",
    "doc.EmailBySendgrid-postaction": "# Sendgrid Post-run Action\n\n\nDescription\n-----------\nThe Sendgrid post-action can be used to send an email at the end of a pipeline run. You can configure it to send an \nemail when the pipeline completes, succeeds or fails. Uses the Sendgrid service to send emails, and requires you to \nsign up for a Sendgrid account.\n\n\nUse Case\n--------\nThis action can be used when you want to send an email at the end of a pipeline run. For example, you may want to \nconfigure a pipeline so that an email is sent whenever the run failed for any reason.\n\n\nProperties\n----------\n**Run Condition:** When to run the action. Must be 'completion', 'success', or 'failure'. Defaults to 'completion'.\nIf set to 'completion', the action will be executed regardless of whether the pipeline run succeeded or failed.\nIf set to 'success', the action will only be executed if the pipeline run succeeded.\nIf set to 'failure', the action will only be executed if the pipeline run failed.\n\n**API Key**: The SendGrid API Key. After logging into your Sendgrid account, you can create a key in the API keys \nsection of the Settings page.\n\n**From:** The address to send the email from. The identity of this email must be verified with Sendgrid using one of \nthe options available at https://sendgrid.com/docs/for-developers/sending-email/sender-identity/.\n\n**To:** The address to send the email to.\n\n**Subject:** The subject of the email.\n\n**Content:** Optional content of the email. Defaults to empty.\n\n**Include Workflow Token:** Workflow tokens contain data such as counters, statuses and metrics, that are passed \nbetween the nodes of a pipeline. This config determines whether to include the contents of the workflow token in the \nemail message. Defaults to false.\n\n\nExample\n-------\nThis example sends an email from 'team-ops@example.com' to 'team-alerts@example.com' whenever a run fails:\n\n    {\n        \"name\": \"EmailBySendgrid\",\n        \"type\": \"postaction\",\n        \"properties\": {\n            \"apiKey\": \"xyz\",\n            \"from\": \"team-ops@example.com\",\n            \"to\": \"team-alerts@example.com\",\n            \"subject\": \"Pipeline Failure ${logicalStartTime(yyyy-MM-dd)}\",\n            \"message\": \"The pipeline run failed.\",\n            \"runCondition\": \"failure\",\n            \"includeWorkflowToken\": \"false\"\n        }\n    }\n"
  },
  "parents": [
    "system:cdap-data-pipeline[6.1.0,7.0.0-SNAPSHOT)",
    "system:cdap-data-streams[6.1.0,7.0.0-SNAPSHOT)"
  ]
}