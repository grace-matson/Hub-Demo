{
  "resources": {
    "memoryMB": 1024,
    "virtualCores": 1
  },
  "driverResources": {
    "memoryMB": 1024,
    "virtualCores": 1
  },
  "connections": [
    {
      "from": "HTTPPoller",
      "to": "XMLMultiParser"
    },
    {
      "from": "XMLMultiParser",
      "to": "GCS"
    }
  ],
  "comments": [],
  "postActions": [],
  "stages": [
    {
      "name": "HTTPPoller",
      "plugin": {
        "name": "HTTPPoller",
        "type": "streamingsource",
        "label": "HTTPPoller",
        "artifact": {
          "name": "spark-plugins",
          "version": "[1.7.0-SNAPSHOT, 3.0.0-SNAPSHOT)",
          "scope": "SYSTEM"
        },
        "properties": {
          "interval": "10",
          "charset": "UTF-8",
          "followRedirects": "true",
          "connectTimeout": "60000",
          "readTimeout": "60000",
          "referenceName": "nytimesWorld",
          "url": "http://rss.nytimes.com/services/xml/rss/nyt/World.xml"
        }
      }
    },
    {
      "name": "XMLMultiParser",
      "plugin": {
        "name": "XMLMultiParser",
        "type": "transform",
        "label": "XMLMultiParser",
        "artifact": {
          "name": "transform-plugins",
          "version": "[1.7.0-SNAPSHOT, 3.0.0-SNAPSHOT)",
          "scope": "SYSTEM"
        },
        "properties": {
          "schema": "{\"type\":\"record\",\"name\":\"etlSchemaBody\",\"fields\":[{\"name\":\"guid\",\"type\":\"string\"},{\"name\":\"title\",\"type\":[\"string\",\"null\"]},{\"name\":\"link\",\"type\":[\"string\",\"null\"]},{\"name\":\"description\",\"type\":[\"string\",\"null\"]},{\"name\":\"pubDate\",\"type\":[\"string\",\"null\"]}]}",
          "field": "body",
          "xPath": "/rss/channel/item"
        }
      }
    },
    {
      "name": "GCS",
      "plugin": {
        "name": "GCS",
        "type": "batchsink",
        "label": "Google Cloud Storage",
        "artifact": {
          "name": "google-cloud",
          "version": "[0.12.0, 1.0.0-SNAPSHOT)",
          "scope": "SYSTEM"
        },
        "properties": {"schema": "{\"type\":\"record\",\"name\":\"etlSchemaBody\",\"fields\":[{\"name\":\"guid\",\"type\":\"string\"},{\"name\":\"title\",\"type\":[\"string\",\"null\"]},{\"name\":\"link\",\"type\":[\"string\",\"null\"]},{\"name\":\"description\",\"type\":[\"string\",\"null\"]},{\"name\":\"pubDate\",\"type\":[\"string\",\"null\"]}]}"}
      }
    }
  ],
  "batchInterval": "10s"
}
