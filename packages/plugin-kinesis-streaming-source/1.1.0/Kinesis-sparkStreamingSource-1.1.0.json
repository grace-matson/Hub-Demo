{
  "properties": {
    "widgets.KinesisSource-streamingsource": "{\n  \"outputs\": [{\n    \"name\": \"schema\",\n    \"widget-type\": \"schema\",\n    \"widget-attributes\": {\n      \"default-schema\": {\n        \"name\": \"etlSchemaBody\",\n        \"type\": \"record\",\n        \"fields\": [{\n          \"name\": \"body\",\n          \"type\": [\n            \"bytes\",\n            \"null\"\n          ]\n        }]\n      },\n      \"schema-default-type\": \"string\",\n      \"property-watch\": \"format\"\n    }\n  }],\n  \"metadata\": {\"spec-version\": \"1.0\"},\n  \"configuration-groups\": [\n    {\n      \"label\": \"Kinesis Configuration\",\n      \"properties\": [\n        {\n          \"widget-type\": \"textbox\",\n          \"name\": \"referenceName\",\n          \"label\": \"Reference Name\"\n        },\n        {\n          \"widget-type\": \"textbox\",\n          \"name\": \"appName\",\n          \"label\": \"Application Name\"\n        },\n        {\n          \"widget-type\": \"textbox\",\n          \"name\": \"streamName\",\n          \"label\": \"Stream Name\"\n        },\n        {\n          \"widget-type\": \"textbox\",\n          \"name\": \"endpointUrl\",\n          \"label\": \"Kinesis endpoint url\"\n        },\n        {\n          \"widget-type\": \"select\",\n          \"name\": \"region\",\n          \"label\": \"region\",\n          \"widget-attributes\": {\n            \"default\": \"us-east-1\",\n            \"values\": [\n              \"us-east-1\",\n              \"us-east-2\",\n              \"us-west-1\",\n              \"us-west-2\",\n              \"ca-central-1\",\n              \"ap-south-1\",\n              \"ap-northeast-2\",\n              \"ap-southeast-1\",\n              \"ap-southeast-2\",\n              \"ap-northeast-1\",\n              \"eu-central-1\",\n              \"eu-west-1\",\n              \"sa-east-1\"\n            ]\n          }\n        },\n        {\n          \"widget-type\": \"textbox\",\n          \"name\": \"duration\",\n          \"label\": \"Checkpoint interval duration\"\n        },\n        {\n          \"widget-type\": \"select\",\n          \"name\": \"initialPosition\",\n          \"label\": \"Initial position in stream\",\n          \"widget-attributes\": {\n            \"default\": \"LATEST\",\n            \"values\": [\n              \"LATEST\",\n              \"TRIM_HORIZON\"\n            ]\n          }\n        },\n        {\n          \"widget-type\": \"textbox\",\n          \"name\": \"awsAccessKeyId\",\n          \"label\": \"AWS access key id\"\n        },\n        {\n          \"widget-type\": \"password\",\n          \"name\": \"awsAccessSecret\",\n          \"label\": \"AWS access secret\"\n        }\n      ]\n    },\n    {\n      \"label\": \"Format\",\n      \"properties\": [{\n        \"widget-type\": \"select\",\n        \"name\": \"format\",\n        \"label\": \"Format\",\n        \"widget-attributes\": {\n          \"default\": \"\",\n          \"values\": [\n            \"\",\n            \"avro\",\n            \"binary\",\n            \"clf\",\n            \"csv\",\n            \"grok\",\n            \"syslog\",\n            \"text\",\n            \"tsv\"\n          ]\n        }\n      }]\n    }\n  ]\n}",
    "doc.KinesisSource-streamingsource": "# Amazon Kinesis spark streaming source\n\nDescription\n-----------\nSpark streaming source that reads from AWS Kinesis streams.\n\nUse Case\n--------\nThis source is used when you want to read data from a Kinesis stream in real-time. For example, you may want to read\ndata from a Kinesis stream write it to a CDAP dataset.\n\nProperties\n----------\n**appName:** The name of the Kinesis application. The application name that is used to checkpoint the Kinesis sequence\nnumbers in DynamoDB table. (Macro-enabled)\n\n**streamName:** The name of the Kinesis stream to the get the data from. The stream should be active. (Macro-enabled)\n\n**duration:** The interval in milliseconds at which the Kinesis Client Library saves its position in the stream.\n(Macro-enabled)\n\n**region:** Valid Kinesis region URL eg. ap-south-1. Default value is us-east-1.\n\n**endpointUrl:** Valid Kinesis endpoint URL eg. Kinesis.us-east-1.amazonaws.com. (Macro-enabled)\n\n**accessID:** The access Id provided by AWS required to access the Kinesis streams. The Id can be stored in CDAP secure\nstore and can be provided as macro configuration. (Macro-enabled)\n\n**accessKey:** AWS access key secret having access to Kinesis streams. The key can be stored in CDAP secure store and\ncan be provided as macro configuration. (Macro-enabled)\n\n**initialPosition:** Initial position in the stream. Can be either TRIM_HORIZON or LATEST, Default position will be\nLatest.\n\n**format:** Optional format of the Kinesis shard payload. Any format supported by CDAP is supported. For example, a\nvalue of 'csv' will attempt to parse Kinesis payloads as comma-separated values. If no format is given, Kinesis payloads\nwill be treated as bytes.\n\nExample\n-------\nThis example will read from Kinesis stream named 'MyKinesisStream'. It will spin up 1 Kinesis Receiver per shard for the\ngiven stream. It starts pulling from the last checkpointed sequence number of the given stream.\n\n    {\n        \"name\": \"KinesisSource\",\n        \"type\": \"streamingsource\",\n        \"properties\": {\n            \"appName\": \"myKinesisApp\",\n            \"streamName\": \"MyKinesisStream\",\n            \"accessID\": \"my_aws_access_key\",\n            \"accessKey\": \"my_aws_access_secret\",\n            \"endpointUrl\": \"1\",\n            \"duration\": \"2000\",\n            \"initialPosition\": \"Latest\",\n            \"format\": \"csv\",\n            \"schema\": \"{\n                    \\\"type\\\":\\\"record\\\",\n                    \\\"name\\\":\\\"purchase\\\",\n                    \\\"fields\\\":[\n                        {\\\"name\\\":\\\"user\\\",\\\"type\\\":\\\"string\\\"},\n                        {\\\"name\\\":\\\"item\\\",\\\"type\\\":\\\"string\\\"},\n                        {\\\"name\\\":\\\"count\\\",\\\"type\\\":\\\"int\\\"},\n                        {\\\"name\\\":\\\"price\\\",\\\"type\\\":\\\"double\\\"}\n                    ]\n            }\n        }\n    }\n\nFor each Kinesis message read, it will output a record with the schema:\n\n    +================================+\n    | field name  | type             |\n    +================================+\n    | user        | string           |\n    | item        | string           |\n    | count       | int              |\n    | price       | double           |\n    +================================+\n"
  },
  "parents": ["system:cdap-data-streams[6.0.0-SNAPSHOT,7.0.0-SNAPSHOT)"]
}
