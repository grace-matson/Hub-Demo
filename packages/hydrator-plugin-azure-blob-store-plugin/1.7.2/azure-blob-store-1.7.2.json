{
  "parents": [
    "system:cdap-data-pipeline[6.1.0-SNAPSHOT,7.0.0-SNAPSHOT)",
    "system:cdap-data-streams[6.1.0-SNAPSHOT,7.0.0-SNAPSHOT)"
  ],
  "properties": {
    "widgets.AzureBlobStore-batchsource": "{\"metadata\":{\"spec-version\":\"1.5\"},\"display-name\":\"Microsoft Azure Blob Store\",\"configuration-groups\":[{\"label\":\"Azure Blob Store Configuration\",\"properties\":[{\"widget-type\":\"textbox\",\"label\":\"Reference Name\",\"name\":\"referenceName\"},{\"widget-type\":\"textbox\",\"label\":\"Path\",\"name\":\"path\"},{\"widget-type\":\"textbox\",\"label\":\"Account\",\"name\":\"account\"},{\"widget-type\":\"radio-group\",\"label\":\"Authentication Method\",\"name\":\"authenticationMethod\",\"widget-attributes\":{\"layout\":\"inline\",\"default\":\"storageAccountKey\",\"options\":[{\"id\":\"storageAccountKey\",\"label\":\"Storage Account Key\"},{\"id\":\"sasToken\",\"label\":\"SAS Token\"}]}},{\"widget-type\":\"textbox\",\"label\":\"Azure Blob Store Storage Key\",\"name\":\"storageKey\"},{\"widget-type\":\"textbox\",\"label\":\"SAS Token\",\"name\":\"sasToken\"},{\"widget-type\":\"textbox\",\"label\":\"Container\",\"name\":\"container\"},{\"widget-type\":\"textbox\",\"label\":\"Maximum Split Size\",\"name\":\"maxSplitSize\"},{\"widget-type\":\"textbox\",\"label\":\"Regex Path Filter\",\"name\":\"fileRegex\"},{\"widget-type\":\"select\",\"label\":\"Read files recursively\",\"name\":\"recursive\",\"widget-attributes\":{\"values\":[\"true\",\"false\"],\"default\":\"false\"}}]},{\"label\":\"Output Schema Properties\",\"properties\":[{\"widget-type\":\"textbox\",\"label\":\"Path Field\",\"name\":\"pathField\",\"plugin-function\":{\"method\":\"POST\",\"widget\":\"outputSchema\",\"output-property\":\"schema\",\"plugin-method\":\"getSchema\"}},{\"widget-type\":\"select\",\"label\":\"Use File Name as Path Field\",\"name\":\"filenameOnly\",\"widget-attributes\":{\"values\":[\"true\",\"false\"],\"default\":\"false\"}}]},{\"label\":\"Advanced Properties\",\"properties\":[{\"widget-type\":\"textbox\",\"label\":\"Input Format Class\",\"name\":\"inputFormatClass\"},{\"widget-type\":\"json-editor\",\"label\":\"File System Properties\",\"name\":\"fileSystemProperties\"},{\"widget-type\":\"select\",\"label\":\"Ignore Non-Existing Folders\",\"name\":\"ignoreNonExistingFolders\",\"widget-attributes\":{\"values\":[\"true\",\"false\"],\"default\":\"false\"}},{\"widget-type\":\"textbox\",\"label\":\"Time Table\",\"name\":\"timeTable\"}]}],\"outputs\":[{\"name\":\"schema\",\"widget-type\":\"schema\",\"widget-attributes\":{\"default-schema\":{\"name\":\"fileRecord\",\"type\":\"record\",\"fields\":[{\"name\":\"offset\",\"type\":\"long\"},{\"name\":\"body\",\"type\":\"string\"}]}}}],\"filters\":[{\"name\":\"StorageAccountAuthentication\",\"condition\":{\"expression\":\"authenticationMethod == 'storageAccountKey'\"},\"show\":[{\"name\":\"storageKey\"}]},{\"name\":\"SASAuthentication\",\"condition\":{\"expression\":\"authenticationMethod == 'sasToken'\"},\"show\":[{\"name\":\"sasToken\"},{\"name\":\"container\"}]}]}",
    "doc.AzureBlobStore-batchsource": "# Microsoft Azure Blob Storage Batch Source\n\nDescription\n-----------\n\nBatch source to use Microsoft Azure Blob Storage as a source.\n\nUse Case\n--------\n\nThis source is used whenever you need to read from Microsoft Azure Blob Storage. For\nexample, you may want to read in files from Microsoft Azure Blob Storage, parse them and\nthen store them in a Microsoft SQL Server Database.\n\nProperties\n----------\n**Reference Name:** This will be used to uniquely identify this source for lineage, annotating metadata, etc.\n\n**Path:** The path on Microsoft Azure Blob Storage to use as input. The path uses filename expansion (globbing) to read\nfiles. The path must start with `wasb://` or `wasbs://`, for example, `wasb://mycontainer@mystorageaccount.blob.core.windows.net/filename.txt`. (Macro-enabled)\n\n**Account:** The Microsoft Azure Blob Storage account to use. This is of the form \n`mystorageaccount.blob.core.windows.net`, where `mystorageaccount` is the Microsoft \nAzure Storage account name. (Macro-enabled)\n\n**Authentication Method:** The authentication method to use to connect to Microsoft Azure. Can be either \n`Storage Account Key` or `SAS Token`. Defaults to `Storage Account Key`.\n\n**Storage Key:** The storage key for the container on the Microsoft Azure Storage account. \nMust be a valid base64 encoded storage key provided by Microsoft Azure. Required when authentication method is set\nto `Storage Account Key`. (Macro-enabled)\n\n**SAS Token:** The SAS token to use to connect to the specified container. Required when authentication method is set \nto `SAS Token`. (Macro-enabled)\n\n**Container:** The container to connect to. Required when authentication method is set to`SAS Token`. (Macro-enabled)\n\n**Ignore Non-Existing Folders:** Identify if path needs to be ignored or not, for case when directory or file does not\nexists. If set to true it will treat the not present folder as 0 input and log a warning. Default is `false`.\n\n**Recursive:** Boolean value to determine if files are to be read recursively from the path. Default is `false`.\n\nExample\n-------\n\nThis example connects to Microsoft Azure Blob Storage and reads in files found in the\nspecified directory. This example uses Microsoft Azure Storage 'mystorageaccount.blob.core.windows.net', using the\n'mystorageaccount' account name:\n\n    {\n        \"name\": \"AzureBlobStore\",\n        \"type\": \"batchsource\",\n        \"properties\": {\n            \"path\": \"`wasb://mycontainer@mystorageaccount.blob.core.windows.net/filename.txt\",\n            \"account\": \"mystorageaccount.blob.core.windows.net\",\n            \"authenticationMethod\": \"storageAccountKey\",\n            \"storageKey\": \"XXXXXEEESSS/YYYY=\",\n            \"ignoreNonExistingFolders\": \"false\",\n            \"recursive\": \"false\"\n        }\n    }"
  }
}