{
  "properties": {
    "widgets.WindowAggregation-sparkcompute": "{\n  \"outputs\": [{\n    \"name\": \"schema\",\n    \"widget-type\": \"schema\",\n    \"label\": \"schema\"\n  }],\n  \"metadata\": {\n    \"spec-version\": \"1.5\",\n    \"label\": \"Window Aggregation\"\n  },\n  \"configuration-groups\": [\n    {\n      \"label\": \"Partition definition\",\n      \"properties\": [\n        {\n          \"name\": \"partitionFields\",\n          \"widget-type\": \"csv\",\n          \"label\": \"Partition fields\",\n          \"widget-attributes\": {}\n        },\n        {\n          \"name\": \"partitionOrder\",\n          \"widget-type\": \"keyvalue-dropdown\",\n          \"label\": \"Order\",\n          \"widget-attributes\": {\n            \"kv-delimiter\": \":\",\n            \"dropdownOptions\": [\n              \"Ascending\",\n              \"Descending\"\n            ],\n            \"delimiter\": \",\"\n          }\n        }\n      ]\n    },\n    {\n      \"label\": \"Window Frame definition\",\n      \"properties\": [\n        {\n          \"name\": \"windowFrameType\",\n          \"widget-type\": \"radio-group\",\n          \"label\": \"Frame Type\",\n          \"widget-attributes\": {\n            \"layout\": \"inline\",\n            \"default\": \"NONE\",\n            \"options\": [\n              {\n                \"id\": \"ROW\",\n                \"label\": \"Row\"\n              },\n              {\n                \"id\": \"RANGE\",\n                \"label\": \"Range\"\n              },\n              {\n                \"id\": \"NONE\",\n                \"label\": \"None\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"unboundedPreceding\",\n          \"widget-type\": \"toggle\",\n          \"label\": \"Unbounded preceding\",\n          \"widget-attributes\": {\n            \"default\": \"false\",\n            \"off\": {\n              \"label\": \"No\",\n              \"value\": \"false\"\n            },\n            \"on\": {\n              \"label\": \"Yes\",\n              \"value\": \"true\"\n            }\n          }\n        },\n        {\n          \"name\": \"unboundedFollowing\",\n          \"widget-type\": \"toggle\",\n          \"label\": \"Unbounded following\",\n          \"widget-attributes\": {\n            \"default\": \"false\",\n            \"off\": {\n              \"label\": \"No\",\n              \"value\": \"false\"\n            },\n            \"on\": {\n              \"label\": \"Yes\",\n              \"value\": \"true\"\n            }\n          }\n        },\n        {\n          \"name\": \"preceding\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Preceding\"\n        },\n        {\n          \"name\": \"following\",\n          \"widget-type\": \"textbox\",\n          \"label\": \"Following\"\n        }\n      ]\n    },\n    {\n      \"label\": \"Aggregate definition\",\n      \"properties\": [{\n        \"name\": \"aggregates\",\n        \"widget-type\": \"dsv\",\n        \"label\": \"Aggregates\",\n        \"widget-attributes\": {\"delimiter\": \"\\n\"}\n      }]\n    },\n    {\n      \"label\": \"Advanced\",\n      \"properties\": [{\n        \"name\": \"numberOfPartitions\",\n        \"widget-type\": \"number\",\n        \"label\": \"Number of partitions\"\n      }]\n    }\n  ],\n  \"display-name\": \"Window Aggregation\",\n  \"filters\": [\n    {\n      \"condition\": {\"expression\": \"windowFrameType != 'NONE'\"},\n      \"name\": \"Bounds\",\n      \"show\": [\n        {\"name\": \"unboundedPreceding\"},\n        {\"name\": \"unboundedFollowing\"},\n        {\"name\": \"preceding\"},\n        {\"name\": \"following\"}\n      ]\n    },\n    {\n      \"condition\": {\"expression\": \"unboundedPreceding == false\"},\n      \"name\": \"Preceding\",\n      \"show\": [{\"name\": \"preceding\"}]\n    },\n    {\n      \"condition\": {\"expression\": \"unboundedFollowing == false\"},\n      \"name\": \"Following\",\n      \"show\": [{\"name\": \"following\"}]\n    }\n  ]\n}",
    "doc.WindowAggregation-sparkcompute": "# Window Aggregation\n\n\nDescription\n-----------\nSpecify a window over which functions should be applied.\nSupported functions: `Rank`, `Dense Rank`, `Percent Rank`, `N tile`, `Row Number`, `Median`, `Continuous Percentile`, `Lead`, `Lag`, `First`, `Last`, `Cumulative distribution`, `Accumulate`.\n\nUse Case\n--------\nThe transform is used when you want to calculate some basic aggregations in your data similar\nto what you could do with a window function in SQL.\n\nProperties\n----------\n**Partition fields:** Specifies a list of fields, comma-separated, to partition the data by. \nAt least 1 field must be provided.\nRecords with the same value for all these fields will be grouped together.\n\n**Order:** Specifies key-value pairs containing the ordering field, and the order (ascending or descending).\nAll data types are allowed, except when `Frame Type` is RANGE and `Unbounded preceding` or `Unbounded following`\nis set to `false`, order must be single expression and data type must be one of: `Int`, `Long`, `Double`, `Float`\nFor example: `value:Ascending,id:Descending`.\n\n**Frame Type:** Selects the type of window frame to create within each partition. Options can be `ROW`, `RANGE`\n or `NONE`. Default is `NONE`. \n\n**Unbounded preceding:** Whether to use an unbounded start boundary for a frame. Default is `false`.\n\n**Unbounded following:** Whether to use an unbounded end boundary for a frame. Default is `false`.\n\n**Preceding:** Specifies the number of preceding rows in the window frame. When Frame Type is `ROW`, this is a number\nrelative to the current row. E.g. -2 to begin the frame 2 rows before the current row. When Frame Type is `RANGE`, \nspecifies the value to be subtracted from the value of the current row to get the start boundary.\n\n**Following:** Specifies the number of following rows to include in the window frame. When Frame Type is `ROW`, this is \na number relative to the current row. E.g. 3 to end the frame 3 rows after the current row. When Frame Type is `RANGE`, \nspecifies the value to be added to the value of the current row to get the end boundary.\n\n\n**Aggregates:** Specifies a list of functions to run on the selected window. Supported aggregate functions are `Rank`, \n`Dense Rank`, `Percent Rank`, `N tile`, `Row Number`, `Median`, `Continuous Percentile`, `Lead`, \n`Lag`, `First`, `Last`, `Cumulative distribution`, `Accumulate`. Aggregates are specified using syntax: \n.`alias:function(field,encoded(arguments),ignoreNulls)[\\n other functions]`. For example, \n`nextValue:lead(value,1,false)\\npreviousValue:lag(value,1,false)` will calculate two aggregates. The first will create a\nfield called `nextValue` that is the next value of current row in the group. The second will create a field called\n`previousValue` that is the previous value of current row in the group.\n\n**Number of partitions:** Number of partitions to use when grouping fields. If not specified, the execution\nframework will decide on the number to use.\n"
  },
  "parents": [
    "system:cdap-data-pipeline[6.1.2,7.0.0-SNAPSHOT)",
    "system:cdap-data-streams[6.1.2,7.0.0-SNAPSHOT)"
  ]
}